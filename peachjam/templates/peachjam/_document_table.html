{% load i18n peachjam %}
<div class="table-responsive"
     id="doc-table"
     data-component="DocumentTable">
  <table class="doc-table {% if doc_table_toggle %}doc-table--toggle{% endif %} {% if doc_table_citations %}doc-table--citation{% endif %} {{ doc_table_classes }}">
    <thead>
      <tr>
        {% if doc_table_toggle %}<th class="cell-toggle"></th>{% endif %}
        <th scope="col" class="cell-title">
          <div class="align-items-center"
               role="button"
               data-sort="{% if form.sort.value == "title" %}-title{% else %}title{% endif %}">
            {% trans 'Title' %}
            <i class="bi ms-2 {% if form.sort.value == "title" %}bi-sort-up{% endif %} {% if form.sort.value == "-title" %}bi-sort-down{% endif %}"></i>
          </div>
        </th>
        {% if doc_table_citations %}<th scope="col" class="cell-citation"></th>{% endif %}
        {% if doc_table_show_jurisdiction %}
          {% if MULTIPLE_JURISDICTIONS or MULTIPLE_LOCALITIES %}
            <th scope="col">{% trans 'Jurisdiction' %}</th>
          {% endif %}
        {% endif %}
        {% if doc_table_show_author %}<th scope="col"></th>{% endif %}
        {% if doc_table_show_court %}<th scope="col"></th>{% endif %}
        {% if doc_table_show_doc_type %}<th scope="col"></th>{% endif %}
        <th scope="col" class="cell-date">
          <div class="align-items-center"
               role="button"
               data-sort="{% if form.sort.value == "date" %}-date{% else %}date{% endif %}">
            {% trans 'Date' %}
            <i class="bi ms-2 {% if form.sort.value == "-date" %}bi-sort-up{% endif %} {% if form.sort.value == "date" %}bi-sort-down{% endif %}"></i>
          </div>
        </th>
      </tr>
    </thead>
    {% for document in documents %}
      {% include 'peachjam/_document_table_row.html' %}
      {% if document.children %}
        <tbody id="doc-table-children-{{ forloop.counter0 }}"
               class="doc-table-children collapse">
          {% for d in document.children %}
            {% include 'peachjam/_document_table_row.html' with document=d %}
          {% endfor %}
        </tbody>
      {% endif %}
    {% endfor %}
  </table>
  {% if not documents %}
    <p>{% trans 'No documents found.' %}</p>
  {% endif %}
  {% if documents and not hide_pagination %}
    {% include 'peachjam/_pagination.html' %}
  {% endif %}
</div>
